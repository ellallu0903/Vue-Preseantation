{"version":3,"sources":["webpack:///./src/views/Login.vue?d4fe","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?5da6","webpack:///./src/views/Login.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_m","on","$event","preventDefault","onSubmit","model","value","callback","$$v","email","expression","password","rememberEmail","_v","staticRenderFns","name","data","$store","state","sign","methods","axios","component"],"mappings":"8GAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,kFAAkFC,MAAM,CAAC,GAAK,UAAU,CAACH,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACN,EAAIQ,GAAG,GAAGJ,EAAG,UAAU,CAACA,EAAG,OAAO,CAACK,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBX,EAAIY,SAASF,MAAW,CAACN,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,QAAQ,CAACH,EAAG,UAAU,CAACG,MAAM,CAAC,KAAO,QAAQ,KAAO,UAAU,YAAc,2BAA2B,SAAW,GAAG,QAAU,IAAIM,MAAM,CAACC,MAAOd,EAAS,MAAEe,SAAS,SAAUC,GAAMhB,EAAIiB,MAAMD,GAAKE,WAAW,YAAY,GAAGd,EAAG,UAAU,CAACE,YAAY,OAAOC,MAAM,CAAC,MAAQ,QAAQ,CAACH,EAAG,UAAU,CAACE,YAAY,YAAYC,MAAM,CAAC,KAAO,WAAW,KAAO,OAAO,YAAc,8BAA8B,SAAW,GAAG,kBAAkB,GAAG,QAAU,IAAIM,MAAM,CAACC,MAAOd,EAAY,SAAEe,SAAS,SAAUC,GAAMhB,EAAImB,SAASH,GAAKE,WAAW,eAAe,GAAGd,EAAG,UAAU,CAACA,EAAG,aAAa,CAACS,MAAM,CAACC,MAAOd,EAAiB,cAAEe,SAAS,SAAUC,GAAMhB,EAAIoB,cAAcJ,GAAKE,WAAW,kBAAkB,CAAClB,EAAIqB,GAAG,aAAa,GAAGjB,EAAG,UAAU,CAACE,YAAY,2BAA2B,CAACF,EAAG,SAAS,CAACE,YAAY,YAAYC,MAAM,CAAC,KAAO,WAAW,CAACP,EAAIqB,GAAG,WAAW,KAAKjB,EAAG,MAAMJ,EAAIQ,GAAG,QAC/vCc,EAAkB,CAAC,WAAa,IAAItB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACN,EAAIqB,GAAG,eAAe,WAAa,IAAIrB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,0BAA0B,CAACF,EAAG,QAAQ,CAACA,EAAG,IAAI,CAACG,MAAM,CAAC,KAAO,iBAAiB,CAACP,EAAIqB,GAAG,0BC0DpZ,GACEE,KAAM,QACNC,KAFF,WAGI,MAAO,CACLP,MAAOhB,KAAKwB,OAAOC,MAAMC,KAAKV,MAC9BE,SAAU,GACVC,eAAe,IAGnBQ,QAAS,CAEPhB,SAFJ,WAEA,WACMX,KAAK4B,MACX,sEACA,kBACA,gBACU,EAAV,qCACU,EAAV,qBACY,MAAZ,WACY,QAAZ,QACY,KAAZ,YACY,SAAZ,EACY,KAAZ,iBAEU,EAAV,mBACA,qBACY,EAAZ,4BACY,EAAZ,kBAEY,EAAZ,iCAGU,EAAV,qBACY,MAAZ,SACY,QAAZ,QACY,KAAZ,YACY,SAAZ,EACY,KAAZ,oBAIA,mBACQ,EAAR,qBACU,MAAV,SACU,QAAV,wBACU,KAAV,YACU,SAAV,EACU,KAAV,uBC1G+U,I,YCO3UC,EAAY,eACd,EACA/B,EACAuB,GACA,EACA,KACA,KACA,MAIa,aAAAQ,E","file":"js/login.658626d4.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"bg_login one_page_h p-5 is-flex is-justify-content-center is-align-items-center\",attrs:{\"id\":\"login\"}},[_c('div',{staticClass:\"box_login p-6\"},[_vm._m(0),_c('section',[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.onSubmit($event)}}},[_c('b-field',{attrs:{\"label\":\"信箱：\"}},[_c('b-input',{attrs:{\"type\":\"email\",\"icon\":\"account\",\"placeholder\":\"Please enter email . . .\",\"required\":\"\",\"rounded\":\"\"},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}})],1),_c('b-field',{staticClass:\"mb-5\",attrs:{\"label\":\"密碼：\"}},[_c('b-input',{staticClass:\"icon_gray\",attrs:{\"type\":\"password\",\"icon\":\"lock\",\"placeholder\":\"Please enter password . . .\",\"required\":\"\",\"password-reveal\":\"\",\"rounded\":\"\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1),_c('b-field',[_c('b-checkbox',{model:{value:(_vm.rememberEmail),callback:function ($$v) {_vm.rememberEmail=$$v},expression:\"rememberEmail\"}},[_vm._v(\" 記住信箱 \")])],1),_c('b-field',{staticClass:\"w-100 has-text-centered\"},[_c('button',{staticClass:\"btn_login\",attrs:{\"type\":\"submit\"}},[_vm._v(\"登入\")])])],1)]),_c('hr'),_vm._m(1)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"has-text-centered\"},[_c('div',{staticClass:\"is-size-3 mb-2\"},[_vm._v(\"Log in\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"has-text-centered mt-4\"},[_c('small',[_c('a',{attrs:{\"href\":\"#/registered\"}},[_vm._v(\"Create account\")])])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div\n    id=\"login\"\n    class=\"bg_login one_page_h p-5 is-flex is-justify-content-center is-align-items-center\"\n  >\n    <div class=\"box_login p-6\">\n      <div class=\"has-text-centered\">\n        <div class=\"is-size-3 mb-2\">Log in</div>\n      </div>\n      <section>\n        <form @submit.prevent=\"onSubmit\">\n          <b-field label=\"信箱：\">\n            <b-input\n              v-model=\"email\"\n              type=\"email\"\n              icon=\"account\"\n              placeholder=\"Please enter email . . .\"\n              required\n              rounded\n            >\n            </b-input>\n          </b-field>\n\n          <b-field label=\"密碼：\" class=\"mb-5\">\n            <b-input\n              type=\"password\"\n              icon=\"lock\"\n              placeholder=\"Please enter password . . .\"\n              required\n              password-reveal\n              rounded\n              class=\"icon_gray\"\n              v-model=\"password\"\n            >\n            </b-input>\n          </b-field>\n\n          <b-field>\n              <b-checkbox v-model=\"rememberEmail\">\n                  記住信箱\n              </b-checkbox>\n          </b-field>\n\n          <b-field class=\"w-100 has-text-centered\">\n            <button type=\"submit\" class=\"btn_login\">登入</button>\n          </b-field>\n        </form>\n      </section>\n      <hr />\n      <div class=\"has-text-centered mt-4\">\n        <small>\n          <a href=\"#/registered\">Create account</a>\n        </small>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'Login',\n  data() {\n    return {\n      email: this.$store.state.sign.email,\n      password: '',\n      rememberEmail: true\n    }\n  },\n  methods: {\n    // 提交表單，post 到後台資料庫\n    onSubmit() {\n      this.axios\n        .post(process.env.VUE_APP_API + '/users/login', this.$data)\n        .then(res => {\n          if (res.data.success) {\n            this.$store.commit('login', res.data.result)\n            this.$buefy.dialog.alert({\n              title: 'Success!',\n              message: '登入成功！',\n              type: 'is-danger',\n              hasIcon: true,\n              icon: 'heart-circle'\n            })\n            this.$router.push('/')\n            if (this.rememberEmail === false) {\n              this.$store.commit('cleanEmail')\n              this.rememberEmail = false\n            } else {\n              this.$store.state.sign.email = this.email\n            }\n          } else {\n            this.$buefy.dialog.alert({\n              title: 'Error!',\n              message: '發生錯誤！',\n              type: 'is-danger',\n              hasIcon: true,\n              icon: 'heart-broken'\n            })\n          }\n        })\n        .catch(err => {\n          this.$buefy.dialog.alert({\n            title: 'Error!',\n            message: err.response.data.message,\n            type: 'is-danger',\n            hasIcon: true,\n            icon: 'heart-broken'\n          })\n        })\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=c9613f6e&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}